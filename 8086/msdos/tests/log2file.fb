\ logging to a text file                             phz 03jan22                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                \ load screen                                        phz 16jan22                                                                  : (blk  blk @ 0= IF ascii ) parse 2drop THEN ;                                                                                  (blk  1 2 +thru  ( )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          \ log-type log-emit log-cr alsologtofile             phz 04jan22  context @ dos also context !                                  \ vocabulary log dos also log definitions                         file logfile                                                    variable logfcb                                                                                                                 : log-type  2dup (type  ds@ -rot logfcb @ lfputs ;                                                                              : log-emit  dup (emit  logfcb @ fputc ;                                                                                         : log-cr    (cr  #cr logfcb @ fputc  #lf logfcb @ fputc ;                                                                     Output: alsologtofile                                            log-emit log-cr log-type (del (page (at (at? ;                                                                                                                                                 \ logopen logclose                                   phz 11jan22                                                                  : logopen ( -- )                                                   isfile push                                                     logfile make  isfile@ dup freset logfcb !                       alsologtofile ;                                                                                                              : logclose ( -- )  display  logfcb @ fclose ;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 